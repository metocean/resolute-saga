// Generated by CoffeeScript 1.9.2
var moment;

moment = require('moment-timezone');

module.exports = {
  saga: function(context) {
    context.map('weather update', function(e) {
      return 'daemon';
    });
    return context.ready();
  },
  instance: function(context) {
    return {
      'weather update': function(e, cb) {
        context.setTimeout('5s since last update', moment().add(5, 's'));
        context.set('lastweather', e);
        console.log("Weather is " + e);
        return cb(true);
      },
      '5s since last update': function(e, cb) {
        var weather;
        weather = context.get('lastweather');
        console.log("5s since last weather update of " + weather);
        return cb(true);
      }
    };
  }
};
